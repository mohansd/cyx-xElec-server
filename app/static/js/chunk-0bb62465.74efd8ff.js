(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bb62465","chunk-fe8f2486","chunk-3dc6706a"],{"26e0":function(e,t,a){},"4a44":function(e,t,a){},"6a24":function(e,t,a){"use strict";var n=a("4a44"),r=a.n(n);r.a},"7bd2":function(e,t,a){"use strict";var n=a("b091"),r=a.n(n);r.a},"8c76":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[e._v("新增设备类型")]),a("div",{staticClass:"back",on:{click:e.hanleHide}},[a("fa-icon",{attrs:{"icon-name":"undo"}}),e._v("\n      返回\n    ")],1)]),a("el-divider"),a("div",{staticClass:"wrap"},[a("el-row",[a("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"addForm",attrs:{model:e.form,"status-icon":"","label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"类别名称",prop:"name"}},[a("el-input",{attrs:{size:"medium",placeholder:"请填写类别名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"规格描述",prop:"specs"}},[e._l(e.form.specs,(function(t){return a("div",{key:t.key},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"medium",disabled:""},model:{value:t.key,callback:function(a){e.$set(t,"key",a)},expression:"item.key"}}),e._v("\n              :\n              "),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"medium"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1)})),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini",circle:""},on:{click:e.addSpec}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-minus",size:"mini",circle:""},on:{click:e.deleteSpec}})],2),a("el-form-item",{attrs:{label:"总容量",prop:"total_capacity"}},[a("el-input",{attrs:{size:"medium",placeholder:"请填写总容量(单位：A)"},model:{value:e.form.total_capacity,callback:function(t){e.$set(e.form,"total_capacity",t)},expression:"form.total_capacity"}})],1),a("el-form-item",{attrs:{label:"电流阈值",prop:"elec_limit"}},[a("el-input",{attrs:{size:"medium",placeholder:"请填写电流阈值"},model:{value:e.form.elec_limit,callback:function(t){e.$set(e.form,"elec_limit",t)},expression:"form.elec_limit"}})],1),a("el-form-item",{attrs:{label:"保证年限",prop:"warranty_year"}},[a("el-input",{attrs:{size:"medium",placeholder:"请填写类别名(单位：年)"},model:{value:e.form.warranty_year,callback:function(t){e.$set(e.form,"warranty_year",t)},expression:"form.warranty_year"}})],1),a("el-form-item",{staticClass:"submit"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("保 存")]),a("el-button",{on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重 置")])],1)],1)],1)],1)],1)],1)},r=[],i=(a("ac6a"),a("96cf"),a("3b8d")),s=a("c1bd"),c={name:"CategoryAdd",components:{},data:function(){return{loading:!1,form:{name:"",specs:[{key:"线路1",value:""},{key:"线路2",value:""}],elec_limit:"",total_capacity:"",warranty_year:""}}},computed:{},created:function(){},mounted:function(){},methods:{addSpec:function(){this.form.specs.push({key:"线路".concat(this.form.specs.length+1),value:""})},deleteSpec:function(){this.form.specs.length>1?this.form.specs.pop():this.$message.warning("请至少填写一个设备规格！")},hanleHide:function(){this.$emit("hanleHide",!1)},submitForm:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!0,this.form.specs.forEach((function(e){e.value?e.value=parseInt(e.value,10):t=!1})),this.form.total_capacity=parseInt(this.form.total_capacity,10),this.form.elec_limit=parseInt(this.form.elec_limit,10),this.form.warranty_year=parseInt(this.form.warranty_year,10),t){e.next=9;break}this.$message.warning("规格描述不能为空!"),e.next=14;break;case 9:return e.next=11,s["a"].createOne(this.form);case 11:e.sent,this.$message.success("新增设备类型成功"),this.hanleHide();case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetForm:function(e){this.$refs[e].resetFields()}}},o=c,l=(a("7bd2"),a("2877")),u=Object(l["a"])(o,n,r,!1,null,"9ad37f32",null);t["default"]=u.exports},"9fbf":function(e,t,a){"use strict";var n=a("26e0"),r=a.n(n);r.a},a66f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[e._v("编辑设备类型")]),a("div",{staticClass:"back",on:{click:e.hanleHide}},[a("fa-icon",{attrs:{"icon-name":"undo"}}),e._v("\n      返回\n    ")],1)]),a("el-divider"),a("div",{staticClass:"wrap"},[a("el-row",[a("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"editForm",attrs:{model:e.form,"status-icon":"","label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"类别名称",prop:"name"}},[a("el-input",{attrs:{size:"medium",placeholder:"请填写类别名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"规格描述",prop:"specs"}},[e._l(e.form.specs,(function(t){return a("div",{key:t.key},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"medium",disabled:""},model:{value:t.key,callback:function(a){e.$set(t,"key",a)},expression:"item.key"}}),e._v("\n              :\n              "),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"medium"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1)})),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini",circle:""},on:{click:e.addSpec}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-minus",size:"mini",circle:""},on:{click:e.deleteSpec}})],2),a("el-form-item",{attrs:{label:"总容量",prop:"total_capacity"}},[a("el-input",{attrs:{size:"medium",placeholder:"请填写总容量(单位：A)"},model:{value:e.form.total_capacity,callback:function(t){e.$set(e.form,"total_capacity",t)},expression:"form.total_capacity"}})],1),a("el-form-item",{attrs:{label:"电流阈值",prop:"elec_limit"}},[a("el-input",{attrs:{size:"medium",placeholder:"请填写电流阈值"},model:{value:e.form.elec_limit,callback:function(t){e.$set(e.form,"elec_limit",t)},expression:"form.elec_limit"}})],1),a("el-form-item",{attrs:{label:"保证年限",prop:"warranty_year"}},[a("el-input",{attrs:{size:"medium",placeholder:"请填写类别名(单位：年)"},model:{value:e.form.warranty_year,callback:function(t){e.$set(e.form,"warranty_year",t)},expression:"form.warranty_year"}})],1),a("el-form-item",{staticClass:"submit"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("editForm")}}},[e._v("保 存")]),a("el-button",{on:{click:function(t){return e.resetForm("editForm")}}},[e._v("重 置")])],1)],1)],1)],1)],1)],1)},r=[],i=(a("ac6a"),a("96cf"),a("3b8d")),s=a("c1bd"),c={name:"CategoryEdit",components:{},props:{editID:{type:String,default:""}},data:function(){return{loading:!1,form:{name:"",specs:[{key:"线路1",value:""},{key:"线路2",value:""}],elec_limit:"",total_capacity:"",warranty_year:""}}},computed:{},created:function(){},mounted:function(){this.getCategory()},methods:{addSpec:function(){this.form.specs.push({key:"线路".concat(this.form.specs.length+1),value:""})},deleteSpec:function(){this.form.specs.length>1?this.form.specs.pop():this.$message.warning("请至少填写一个设备规格！")},getCategory:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,s["a"].getOne(this.editID);case 3:this.form=e.sent,this.loading=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hanleHide:function(){this.$emit("hanleHide",!1)},submitForm:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!0,this.form.specs.forEach((function(e){e.value?e.value=parseInt(e.value,10):t=!1})),this.form.total_capacity=parseInt(this.form.total_capacity,10),this.form.elec_limit=parseInt(this.form.elec_limit,10),this.form.warranty_year=parseInt(this.form.warranty_year,10),t){e.next=9;break}this.$message.warning("规格描述不能为空!"),e.next=13;break;case 9:return e.next=11,s["a"].editOne(this.editID,this.form);case 11:this.$message.success("修改设备类型成功"),this.hanleHide();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetForm:function(e){this.getCategory()}}},o=c,l=(a("6a24"),a("2877")),u=Object(l["a"])(o,n,r,!1,null,"3a05f8e1",null);t["default"]=u.exports},b091:function(e,t,a){},b265:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showEdit||e.showAdd?e._e():a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[e._v("公司列表")]),a("el-button",{staticStyle:{"margin-left":"30px"},on:{click:function(t){e.showAdd=!e.showAdd}}},[e._v("新增设备类型")])],1),a("ceres-table",{attrs:{pagination:e.pagination,"table-column":e.tableColumn,"table-data":e.tableData,operate:e.operate},on:{handleEdit:e.handleEdit,handleDelete:e.handleDelete,currentChange:e.currentChange}})],1),e.showAdd?a("category-add",{on:{hanleHide:e.handleHideAdd}}):e._e(),e.showEdit?a("category-edit",{attrs:{"edit-i-d":e.editID},on:{hanleHide:e.handleHideEdit}}):e._e()],1)},r=[],i=(a("ac6a"),a("75fc")),s=(a("96cf"),a("3b8d")),c=a("c1bd"),o=a("8c76"),l=a("a66f"),u={name:"CompanyList",components:{CategoryAdd:o["default"],CategoryEdit:l["default"]},data:function(){return{tableColumn:[{prop:"name",label:"名称"},{prop:"specs",label:"容量规格"},{prop:"total_capacity",label:"总容量"},{prop:"elec_limit",label:"电流阈值"},{prop:"warranty_year",label:"保证年限"}],tableData:[],operate:[{name:"编辑",func:"handleEdit",type:"primary"},{name:"删除",func:"handleDelete",type:"danger"}],showEdit:!1,showAdd:!1,pagination:{pageSize:0,pageTotal:0},editID:""}},computed:{},created:function(){},mounted:function(){this.getCategoryList(1,10)},methods:{getCategoryList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getList(a,t);case 2:n=e.sent,this.tableData=Object(i["a"])(n.items),this.tableData.forEach((function(e){var t="";e.specs.forEach((function(a,n){t+="".concat(a.key,":").concat(a.value),n<e.specs.length-1&&(t+=",")})),e.specs=t})),this.pagination.pageTotal=n.total,this.pagination.pageSize=n.size;case 7:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),handleEdit:function(e){this.showEdit=!0,this.editID=e.row.id},handleDelete:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].deleteOne(t.row.id);case 2:e.sent,this.$message.success("删除成功"),this.getCategoryList(1,10);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleHideAdd:function(){this.showAdd=!1,this.getCategoryList(1,10)},handleHideEdit:function(){this.showEdit=!1,this.getCategoryList(1,10)},currentChange:function(e){this.getCategoryList(e,10)}}},m=u,d=(a("9fbf"),a("2877")),p=Object(d["a"])(m,n,r,!1,null,"50e44198",null);t["default"]=p.exports},c1bd:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a("96cf");var n=a("3b8d"),r=a("d225"),i=a("b0b4"),s=a("b775"),c=function(){function e(){Object(r["a"])(this,e)}return Object(i["a"])(e,null,[{key:"getList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["b"])("cms/device_category/list?page=".concat(a,"&size=").concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"createOne",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["d"])("cms/device_category",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getOne",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["b"])("cms/device_category/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"editOne",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["e"])("cms/device_category/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"deleteOne",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["a"])("cms/device_category/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()}}]);
//# sourceMappingURL=chunk-0bb62465.74efd8ff.js.map