(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe8f2486"],{"7bd2":function(e,t,r){"use strict";var n=r("b091"),a=r.n(n);a.a},"8c76":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"header"},[r("div",{staticClass:"title"},[e._v("新增设备类型")]),r("div",{staticClass:"back",on:{click:e.hanleHide}},[r("fa-icon",{attrs:{"icon-name":"undo"}}),e._v("\n      返回\n    ")],1)]),r("el-divider"),r("div",{staticClass:"wrap"},[r("el-row",[r("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"addForm",attrs:{model:e.form,"status-icon":"","label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"类别名称",prop:"name"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写类别名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"规格描述",prop:"specs"}},[e._l(e.form.specs,(function(t){return r("div",{key:t.key},[r("el-input",{staticStyle:{width:"200px"},attrs:{size:"medium",disabled:""},model:{value:t.key,callback:function(r){e.$set(t,"key",r)},expression:"item.key"}}),e._v("\n              :\n              "),r("el-input",{staticStyle:{width:"200px"},attrs:{size:"medium"},model:{value:t.value,callback:function(r){e.$set(t,"value",r)},expression:"item.value"}})],1)})),r("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini",circle:""},on:{click:e.addSpec}}),r("el-button",{attrs:{type:"danger",icon:"el-icon-minus",size:"mini",circle:""},on:{click:e.deleteSpec}})],2),r("el-form-item",{attrs:{label:"总容量",prop:"total_capacity"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写总容量(单位：A)"},model:{value:e.form.total_capacity,callback:function(t){e.$set(e.form,"total_capacity",t)},expression:"form.total_capacity"}})],1),r("el-form-item",{attrs:{label:"电流阈值",prop:"elec_limit"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写电流阈值"},model:{value:e.form.elec_limit,callback:function(t){e.$set(e.form,"elec_limit",t)},expression:"form.elec_limit"}})],1),r("el-form-item",{attrs:{label:"保证年限",prop:"warranty_year"}},[r("el-input",{attrs:{size:"medium",placeholder:"请填写类别名(单位：年)"},model:{value:e.form.warranty_year,callback:function(t){e.$set(e.form,"warranty_year",t)},expression:"form.warranty_year"}})],1),r("el-form-item",{staticClass:"submit"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("保 存")]),r("el-button",{on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重 置")])],1)],1)],1)],1)],1)],1)},a=[],i=(r("ac6a"),r("96cf"),r("3b8d")),c=r("c1bd"),s={name:"CategoryAdd",components:{},data:function(){return{loading:!1,form:{name:"",specs:[{key:"线路1",value:""},{key:"线路2",value:""}],elec_limit:"",total_capacity:"",warranty_year:""}}},computed:{},created:function(){},mounted:function(){},methods:{addSpec:function(){this.form.specs.push({key:"线路".concat(this.form.specs.length+1),value:""})},deleteSpec:function(){this.form.specs.length>1?this.form.specs.pop():this.$message.warning("请至少填写一个设备规格！")},hanleHide:function(){this.$emit("hanleHide",!1)},submitForm:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!0,this.form.specs.forEach((function(e){e.value?e.value=parseInt(e.value,10):t=!1})),this.form.total_capacity=parseInt(this.form.total_capacity,10),this.form.elec_limit=parseInt(this.form.elec_limit,10),this.form.warranty_year=parseInt(this.form.warranty_year,10),t){e.next=9;break}this.$message.warning("规格描述不能为空!"),e.next=14;break;case 9:return e.next=11,c["a"].createOne(this.form);case 11:e.sent,this.$message.success("新增设备类型成功"),this.hanleHide();case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetForm:function(e){this.$refs[e].resetFields()}}},o=s,u=(r("7bd2"),r("2877")),l=Object(u["a"])(o,n,a,!1,null,"9ad37f32",null);t["default"]=l.exports},b091:function(e,t,r){},c1bd:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));r("96cf");var n=r("3b8d"),a=r("d225"),i=r("b0b4"),c=r("b775"),s=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,null,[{key:"getList",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["b"])("cms/device_category/list?page=".concat(r,"&size=").concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"createOne",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["d"])("cms/device_category",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getOne",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["b"])("cms/device_category/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"editOne",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["e"])("cms/device_category/".concat(t),r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"deleteOne",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])("cms/device_category/".concat(t));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()}}]);
//# sourceMappingURL=chunk-fe8f2486.75231a73.js.map