(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c32f322","chunk-128095e5"],{"1c43":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showEdit||e.showAdd?e._e():n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[e._v("激活码列表")]),n("el-button",{staticStyle:{"margin-left":"30px"},on:{click:function(t){e.showAdd=!e.showAdd}}},[e._v("生成激活码")])],1),n("ceres-table",{attrs:{pagination:e.pagination,"table-column":e.tableColumn,"table-data":e.tableData,operate:e.operate},on:{handleEdit:e.handleEdit,handleDelete:e.handleDelete,currentChange:e.currentChange}})],1),e.showAdd?n("key-add",{on:{hanleHide:e.handleHideAdd}}):e._e()],1)},r=[],i=n("75fc"),c=(n("96cf"),n("3b8d")),s=n("2f3e"),o=n("d7ca"),u={name:"cdkey",components:{KeyAdd:o["default"]},data:function(){return{tableColumn:[{prop:"cdkey",label:"激活码"},{prop:"company_name",label:"公司"},{prop:"project_name",label:"项目"},{prop:"expired_time",label:"时间"}],tableData:[],operate:[{name:"激活/失效",func:"handleEdit",type:"primary"},{name:"删除",func:"handleDelete",type:"danger"}],showEdit:!1,showAdd:!1,pagination:{pageSize:0,pageTotal:0},editID:""}},computed:{},created:function(){},mounted:function(){this.getKeyList(1,10)},methods:{getKeyList:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getList(n,t);case 2:a=e.sent,this.tableData=Object(i["a"])(a.items),this.pagination.pageTotal=a.total,this.pagination.pageSize=a.size;case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),handleEdit:function(e){var t=this;this.$confirm("此操作将".concat(e.row.state?"失效":"激活","激活码, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,s["a"].updateOne(e.row.cdkey,e.row.state?0:1);case 2:t.$message.success("激活码".concat(e.row.state?"失效":"激活","成功")),t.getKeyList(1,10);case 4:case"end":return n.stop()}}),n)})))).catch((function(){}))},handleDelete:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].deleteOne(t.row.cdkey);case 2:this.$message.success("激活码删除成功"),this.getKeyList(1,10);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleHideAdd:function(){this.showAdd=!1,this.getKeyList(1,10)},handleHideEdit:function(){this.showEdit=!1,this.getKeyList(1,10)},currentChange:function(e){this.getKeyList(e,10)}}},l=u,d=(n("de0a"),n("2877")),p=Object(d["a"])(l,a,r,!1,null,"286ab5a2",null);t["default"]=p.exports},"275c":function(e,t,n){},"2f3e":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("96cf");var a=n("3b8d"),r=n("d225"),i=n("b0b4"),c=n("b775"),s=function(){function e(){Object(r["a"])(this,e)}return Object(i["a"])(e,null,[{key:"createOne",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["d"])("/cms/cdkey/generate",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["b"])("/cms/cdkey/list?page=".concat(n,"&size=").concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deleteOne",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])("/cms/cdkey?cdkey=".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateOne",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["e"])("/cms/cdkey/state?cdkey=".concat(t,"&state=").concat(n));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}()},d48a:function(e,t,n){},d7ca:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[e._v("生成激活码")]),n("div",{staticClass:"back",on:{click:e.hanleHide}},[n("fa-icon",{attrs:{"icon-name":"undo"}}),e._v("\n      返回\n    ")],1)]),n("el-divider"),n("div",{staticClass:"wrap"},[n("el-row",[n("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"addForm",attrs:{model:e.form,"status-icon":"","label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"用户权限",prop:"auth"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.auth,callback:function(t){e.$set(e.form,"auth",t)},expression:"form.auth"}},e._l(4,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),n("el-form-item",{attrs:{label:"项目名称",prop:"project_name"}},[n("el-input",{attrs:{size:"medium",placeholder:"请填写项目名称"},model:{value:e.form.project_name,callback:function(t){e.$set(e.form,"project_name",t)},expression:"form.project_name"}})],1),n("el-form-item",{staticClass:"submit"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("保 存")]),n("el-button",{on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重 置")])],1)],1)],1)],1)],1)],1)},r=[],i=(n("96cf"),n("3b8d")),c=n("2f3e"),s={name:"KeyAdd",components:{},data:function(){return{loading:!1,form:{auth:1,project_name:""}}},computed:{},created:function(){},mounted:function(){},methods:{hanleHide:function(){this.$emit("hanleHide",!1)},submitForm:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].createOne(this.form);case 2:e.sent,this.$message.success("生成激活码成功"),this.hanleHide();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetForm:function(e){this.$refs[e].resetFields()}}},o=s,u=(n("ef7e"),n("2877")),l=Object(u["a"])(o,a,r,!1,null,"1d556766",null);t["default"]=l.exports},de0a:function(e,t,n){"use strict";var a=n("d48a"),r=n.n(a);r.a},ef7e:function(e,t,n){"use strict";var a=n("275c"),r=n.n(a);r.a}}]);
//# sourceMappingURL=chunk-5c32f322.2f17a63e.js.map