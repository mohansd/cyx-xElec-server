(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16c677ba","chunk-0d169c6c","chunk-7fcf6a1b"],{"0034":function(e,t,n){"use strict";var a=n("6013"),r=n.n(a);r.a},"08c8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[e._v("新增用户")]),n("div",{staticClass:"back",on:{click:e.hanleHide}},[n("fa-icon",{attrs:{"icon-name":"undo"}}),e._v("\n      返回\n    ")],1)]),n("el-divider"),n("div",{staticClass:"wrap"},[n("el-row",[n("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"addForm",attrs:{model:e.form,"status-icon":"","label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"用户权限",prop:"auth"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.auth,callback:function(t){e.$set(e.form,"auth",t)},expression:"form.auth"}},e._l(4,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),n("el-form-item",{attrs:{label:"用户名",prop:"username"}},[n("el-input",{attrs:{size:"medium",placeholder:"请填写用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),n("el-form-item",{attrs:{label:"真实姓名",prop:"realname"}},[n("el-input",{attrs:{size:"medium",placeholder:"请填写真实姓名"},model:{value:e.form.realname,callback:function(t){e.$set(e.form,"realname",t)},expression:"form.realname"}})],1),n("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[n("el-input",{attrs:{size:"medium",placeholder:"请填写手机号"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),n("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[n("el-input",{attrs:{size:"medium",placeholder:"请填写邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),n("el-form-item",{staticClass:"submit"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("保 存")]),n("el-button",{on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重 置")])],1)],1)],1)],1)],1)],1)},r=[],i=(n("96cf"),n("3b8d")),s=n("8654"),o={name:"UserAdd",components:{},data:function(){return{loading:!1,form:{auth:1,username:"",realname:"",mobile:"",email:"",company_id:""},company_id:""}},computed:{},created:function(){},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$model.inject(this,"company_id").user.getInfo();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{hanleHide:function(){this.$emit("hanleHide",!1)},submitForm:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.form.company_id=this.company_id,e.next=3,s["a"].createOne(this.form);case 3:this.$message.success("新增用户成功"),this.hanleHide();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetForm:function(e){this.$refs[e].resetFields()}}},l=o,c=(n("7bf6"),n("2877")),u=Object(c["a"])(l,a,r,!1,null,"242de89f",null);t["default"]=u.exports},"58a0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showEdit||e.showAdd?e._e():n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[e._v("用户列表")]),n("el-button",{staticStyle:{"margin-left":"30px"},on:{click:function(t){e.showAdd=!e.showAdd}}},[e._v("添加用户")])],1),n("ceres-table",{attrs:{pagination:e.pagination,"table-column":e.tableColumn,"table-data":e.tableData,operate:e.operate},on:{handleEdit:e.handleEdit,handleDelete:e.handleDelete,currentChange:e.currentChange}})],1),e.showAdd?n("user-add",{on:{hanleHide:e.handleHideAdd}}):e._e(),e.showEdit?n("user-edit",{attrs:{"edit-i-d":e.editID},on:{hanleHide:e.handleHideEdit}}):e._e()],1)},r=[],i=n("75fc"),s=(n("96cf"),n("3b8d")),o=n("8654"),l=n("08c8"),c=n("9d15"),u={name:"CompanyList",components:{UserAdd:l["default"],UserEdit:c["default"]},data:function(){return{tableColumn:[{prop:"username",label:"用户名"},{prop:"realname",label:"真实姓名"},{prop:"company_name",label:"公司"},{prop:"mobile",label:"联系方式"},{prop:"email",label:"邮箱"}],tableData:[],operate:[{name:"编辑",func:"handleEdit",type:"primary"},{name:"删除",func:"handleDelete",type:"danger"}],showEdit:!1,showAdd:!1,pagination:{pageSize:0,pageTotal:0},editID:"",user:{}}},computed:{company_id:function(){return this.$store.state.user.user.company_id}},created:function(){},mounted:function(){this.getUserList(1,10)},methods:{getUserList:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].getList(this.company_id,n,t);case 2:a=e.sent,this.tableData=Object(i["a"])(a.items),this.pagination.pageTotal=a.total,this.pagination.pageSize=a.size;case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),handleEdit:function(e){this.showEdit=!0,this.editID=e.row.id},handleDelete:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].deleteOne(t.row.id);case 2:this.$message.success("删除成功"),this.getUserList(1,10);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleHideAdd:function(){this.showAdd=!1,this.getUserList(1,10)},handleHideEdit:function(){this.showEdit=!1,this.getUserList(1,10)},currentChange:function(e){this.getUserList(e,10)}}},m=u,d=(n("0034"),n("2877")),f=Object(d["a"])(m,a,r,!1,null,"7c74db4d",null);t["default"]=f.exports},6013:function(e,t,n){},"7bf6":function(e,t,n){"use strict";var a=n("f12b"),r=n.n(a);r.a},9318:function(e,t,n){},"9d15":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[e._v("编辑用户")]),n("div",{staticClass:"back",on:{click:e.hanleHide}},[n("fa-icon",{attrs:{"icon-name":"undo"}}),e._v("\n      返回\n    ")],1)]),n("el-divider"),n("div",{staticClass:"wrap"},[n("el-row",[n("el-col",{attrs:{lg:16,md:20,sm:24,xs:24}},[n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"editForm",attrs:{model:e.form,"status-icon":"","label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"用户权限",prop:"auth"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.auth,callback:function(t){e.$set(e.form,"auth",t)},expression:"form.auth"}},e._l(4,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),n("el-form-item",{attrs:{label:"用户名",prop:"username"}},[n("el-input",{attrs:{size:"medium",placeholder:"请填写用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{size:"medium",placeholder:"请填写密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),n("el-form-item",{attrs:{label:"真实姓名",prop:"realname"}},[n("el-input",{attrs:{size:"medium",placeholder:"请填写真实姓名"},model:{value:e.form.realname,callback:function(t){e.$set(e.form,"realname",t)},expression:"form.realname"}})],1),n("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[n("el-input",{attrs:{size:"medium",placeholder:"请填写手机号"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),n("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[n("el-input",{attrs:{size:"medium",placeholder:"请填写邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),n("el-form-item",{staticClass:"submit"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("editForm")}}},[e._v("保 存")]),n("el-button",{on:{click:function(t){return e.resetForm("editForm")}}},[e._v("重 置")])],1)],1)],1)],1)],1)],1)},r=[],i=(n("96cf"),n("3b8d")),s=n("8654"),o={name:"UserAdd",components:{},props:{editID:{type:String,default:""}},data:function(){return{loading:!1,form:{auth:1,username:"",realname:"",mobile:"",email:"",company_id:"",password:""}}},computed:{},created:function(){},mounted:function(){this.getUserInfo()},methods:{getUserInfo:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getUserInfo(this.editID);case 2:this.form=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),hanleHide:function(){this.$emit("hanleHide",!1)},submitForm:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].editOne(this.editID,this.form);case 2:this.$message.success("修改用户信息成功"),this.hanleHide();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetForm:function(e){this.getUserInfo()}}},l=o,c=(n("fd79"),n("2877")),u=Object(c["a"])(l,a,r,!1,null,"e0364b18",null);t["default"]=u.exports},f12b:function(e,t,n){},fd79:function(e,t,n){"use strict";var a=n("9318"),r=n.n(a);r.a}}]);
//# sourceMappingURL=chunk-16c677ba.9835e5a0.js.map